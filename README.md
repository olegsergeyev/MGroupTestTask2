# ManzanaGroupTestTask2

Задача 1 (рассчитать медиану на потоке данных):

1. Сгенерировать поток рандомных данных с полями: date (дата генерации), value (от -бесконечности до + бесконечности, целые числа). 100 записей в секунду.
2. Слушать этот поток.
3. Считать медиану, 25 и 75 перцентили.
4. Выводить результат в виде автообновляемых значений: 25%, median, 75% (обновление раз в 5 секунд).
5. Записывать результат в таблицу result: timestamp (время записи-расчета), p_25,median, p_75.

Дисклеймер: поток хранить не нужно, но медиану считаем по всему потоку. Храним в памяти только результаты расчёта

Задача 2 (сортировка):

0. Сгенерировать матрицу 50К Х 50К (состоящий из int (32bit)). Записать в csv с разделителями “пробел”
1. Отсортировать* матрицу, используя не более 2MB оперативной памяти.
2. Результат может содержать до 10 неверных позиций чисел после сортировки.
* Метод сортировки можно использовать любой, но лучше по столбцам.

Файл percentile.py реализует функцию calculate_percentiles(), которая подсчитывает 25-ый перцентиль, медиану и 75-ый перцентиль.
Файл server_socket.py инициализирует сокет и отправляет сообщения типа дата_число.
Файл client_socket.py принимает данные на сокете, подсчитывает перцентили и записывает результаты в файл.
Для работы требуются модули numpy и pandas.

Для запуска:

    git clone https://github.com/olegsergeyev/ManzanaGroupTestTask2
 
    cd ManzanaGroupTestTask2

    pipenv sync

    pipenv shell

     python median/server_socket.py

во втором терминале:

    export PYTHONPATH="$PWD"

    python median/client_socket.py

Файл sort_matrix.py реализует функцию generate() для генерации матрицы и сохранения её в файл, функцию read_column() для чтения нужного столбца с файла, fast_sort_matrix() для сортировки матрицы по столбцам, результат записыается в отдельный файл.
Для работы требуются модули numpy и pandas.
